# How to Export YouTube Cookies

## Quick Steps

### Step 1: Export Cookies from Browser

Open your terminal and run:

```bash
yt-dlp --cookies-from-browser chrome --cookies cookies.txt "https://www.youtube.com"
```

**For Safari (macOS):**
```bash
yt-dlp --cookies-from-browser safari --cookies cookies.txt "https://www.youtube.com"
```

**For Firefox:**
```bash
yt-dlp --cookies-from-browser firefox --cookies cookies.txt "https://www.youtube.com"
```

This will create a `cookies.txt` file with ALL your browser cookies.

### Step 2: Extract Only YouTube Cookies

Filter out only YouTube-related cookies:

```bash
grep -E "^\.youtube\.com|^youtube\.com|^www\.youtube\.com" cookies.txt > youtube_cookies.txt
```

### Step 3: Create Final File with Header

Create the final file with proper header:

```bash
cat > youtube_cookies_for_github.txt << 'EOF'
# Netscape HTTP Cookie File
# This file contains only YouTube cookies for GitHub Actions
# Generated by yt-dlp

EOF

cat youtube_cookies.txt >> youtube_cookies_for_github.txt
```

### Step 4: Copy to GitHub Secret

1. Open `youtube_cookies_for_github.txt` in a text editor
2. Select ALL content (Cmd+A / Ctrl+A)
3. Copy it (Cmd+C / Ctrl+C)
4. Go to: https://github.com/Satyalla42/youtube2_shorts_dogs/settings/secrets/actions
5. Click "New repository secret" (or edit existing `YOUTUBE_COOKIES`)
6. Name: `YOUTUBE_COOKIES`
7. Value: Paste the entire content
8. Click "Add secret" (or "Update secret")

## One-Line Command (All Steps)

```bash
yt-dlp --cookies-from-browser chrome --cookies cookies.txt "https://www.youtube.com" && \
grep -E "^\.youtube\.com|^youtube\.com|^www\.youtube\.com" cookies.txt > youtube_cookies.txt && \
cat > youtube_cookies_for_github.txt << 'HEADER'
# Netscape HTTP Cookie File
# This file contains only YouTube cookies for GitHub Actions
# Generated by yt-dlp

HEADER
cat youtube_cookies.txt >> youtube_cookies_for_github.txt && \
echo "✅ File ready: youtube_cookies_for_github.txt ($(wc -l < youtube_cookies_for_github.txt) lines)"
```

## Important Notes

1. **Make sure you're logged into YouTube** in your browser before exporting
2. **Cookies expire** - you may need to re-export every few weeks/months
3. **Only YouTube cookies** are included (not other websites)
4. **Never commit** the cookies file to git (it's in `.gitignore`)

## Troubleshooting

**"No cookies found"**
- Make sure you're logged into YouTube in your browser
- Try a different browser (Chrome → Safari → Firefox)

**"Cookies file is empty"**
- Check if you're logged into YouTube
- Try exporting again after visiting youtube.com

**"Downloads still failing after adding cookies"**
- Cookies may have expired - export new ones
- Make sure you copied the ENTIRE file content to GitHub Secret
- Check the workflow logs to see if cookies file was created


